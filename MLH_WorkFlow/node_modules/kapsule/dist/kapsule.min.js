// Version 1.14.5 kapsule - https://github.com/vasturiano/kapsule
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t="undefined"!=typeof globalThis?globalThis:t||self).Kapsule=n()}(this,(function(){"use strict";function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,"symbol"==typeof(o=function(t,n){if("object"!=typeof t||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,n||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(i,"string"))?o:String(o)),r)}var i,o}function n(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}function e(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,i,o,u,a=[],f=!0,c=!1;try{if(o=(e=e.call(t)).next,0===n){if(Object(e)!==e)return;f=!1}else for(;!(f=(r=o.call(e)).done)&&(a.push(r.value),a.length!==n);f=!0);}catch(t){c=!0,i=t}finally{try{if(!f&&null!=e.return&&(u=e.return(),Object(u)!==u))return}finally{if(c)throw i}}return a}}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return r(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return r(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function i(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}var o="object"==typeof global&&global&&global.Object===Object&&global,u="object"==typeof self&&self&&self.Object===Object&&self,a=o||u||Function("return this")(),f=function(){return a.Date.now()},c=/\s/;var l=/^\s+/;function v(t){return t?t.slice(0,function(t){for(var n=t.length;n--&&c.test(t.charAt(n)););return n}(t)+1).replace(l,""):t}var s=a.Symbol,d=Object.prototype,p=d.hasOwnProperty,y=d.toString,b=s?s.toStringTag:void 0;var g=Object.prototype.toString;var h="[object Null]",m="[object Undefined]",j=s?s.toStringTag:void 0;function O(t){return null==t?void 0===t?m:h:j&&j in Object(t)?function(t){var n=p.call(t,b),e=t[b];try{t[b]=void 0;var r=!0}catch(t){}var i=y.call(t);return r&&(n?t[b]=e:delete t[b]),i}(t):function(t){return g.call(t)}(t)}var w="[object Symbol]";var S=NaN,T=/^[-+]0x[0-9a-f]+$/i,E=/^0b[01]+$/i,x=/^0o[0-7]+$/i,A=parseInt;function P(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return null!=t&&"object"==typeof t}(t)&&O(t)==w}(t))return S;if(i(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=i(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=v(t);var e=E.test(t);return e||x.test(t)?A(t.slice(2),e?2:8):T.test(t)?S:+t}var C="Expected a function",I=Math.max,U=Math.min;function N(t,n,e){var r,o,u,a,c,l,v=0,s=!1,d=!1,p=!0;if("function"!=typeof t)throw new TypeError(C);function y(n){var e=r,i=o;return r=o=void 0,v=n,a=t.apply(i,e)}function b(t){var e=t-l;return void 0===l||e>=n||e<0||d&&t-v>=u}function g(){var t=f();if(b(t))return h(t);c=setTimeout(g,function(t){var e=n-(t-l);return d?U(e,u-(t-v)):e}(t))}function h(t){return c=void 0,p&&r?y(t):(r=o=void 0,a)}function m(){var t=f(),e=b(t);if(r=arguments,o=this,l=t,e){if(void 0===c)return function(t){return v=t,c=setTimeout(g,n),s?y(t):a}(l);if(d)return clearTimeout(c),c=setTimeout(g,n),y(l)}return void 0===c&&(c=setTimeout(g,n)),a}return n=P(n)||0,i(e)&&(s=!!e.leading,u=(d="maxWait"in e)?I(P(e.maxWait)||0,n):u,p="trailing"in e?!!e.trailing:p),m.cancel=function(){void 0!==c&&clearTimeout(c),v=0,r=l=o=c=void 0},m.flush=function(){return void 0===c?a:h(f())},m}var $=n((function t(n,e){var r=e.default,i=void 0===r?null:r,o=e.triggerUpdate,u=void 0===o||o,a=e.onChange,f=void 0===a?function(t,n){}:a;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=n,this.defaultVal=i,this.triggerUpdate=u,this.onChange=f}));return function(t){var n=t.stateInit,r=void 0===n?function(){return{}}:n,i=t.props,o=void 0===i?{}:i,u=t.methods,a=void 0===u?{}:u,f=t.aliases,c=void 0===f?{}:f,l=t.init,v=void 0===l?function(){}:l,s=t.update,d=void 0===s?function(){}:s,p=Object.keys(o).map((function(t){return new $(t,o[t])}));return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.assign({},r instanceof Function?r(t):r,{initialised:!1}),i={};function o(n){return u(n,t),f(),o}var u=function(t,e){v.call(o,t,n,e),n.initialised=!0},f=N((function(){n.initialised&&(d.call(o,n,i),i={})}),1);return p.forEach((function(t){o[t.name]=function(t){var e=t.name,r=t.triggerUpdate,u=void 0!==r&&r,a=t.onChange,c=void 0===a?function(t,n){}:a,l=t.defaultVal,v=void 0===l?null:l;return function(t){var r=n[e];if(!arguments.length)return r;var a=void 0===t?v:t;return n[e]=a,c.call(o,a,n,r),!i.hasOwnProperty(e)&&(i[e]=r),u&&f(),o}}(t)})),Object.keys(a).forEach((function(t){o[t]=function(){for(var e,r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return(e=a[t]).call.apply(e,[o,n].concat(i))}})),Object.entries(c).forEach((function(t){var n=e(t,2),r=n[0],i=n[1];return o[r]=o[i]})),o.resetProps=function(){return p.forEach((function(t){o[t.name](t.defaultVal)})),o},o.resetProps(),n._rerender=f,o}}}));
